<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Vihoma help</title>
		<style>
			html{background-color:#eee;font-family:"Georgia",serif;padding:2em;}
			body{max-width:60em;margin:auto;}
			/*article{border:1px solid black;background-color:#eee;padding:0 2em;margin:1em auto;}*/
			article h2{border-bottom:1px solid #777;margin-top:2em;}
		</style>
	</head>
	<body>
		<h1>Vihoma<br><span style="font-size:60%;">your Visual Hosts Manager</span></h1>
		<p>Thanks for downloading and using Vihoma. This is a help guide which will be opened the first time you run the program, but it can be accessed at any time through the <i>help</i> link you'll find at the program's <i>About</i> tab.</p>
		<p>Vihoma is a program that will protect your computer from connecting to unwanted webpages. It works by updating a system file, <i>hosts</i>, which contains a list of domains, like <i>www.virus.com</i>. The connections to the webpages listed here will be automatically blocked by your operating system, keeping you away from threats.</p>
		<p>If you are not so familiar with computers, you'll use this program as a security solution. Once Vihoma is run, just click on the update button. It is not needed to keep the program running <u>once it is updated</u>. If your are an advanced user, you may manually block domains, add custom hosts (custom domain and IP address) and even run the program without a graphical interface.</p>
		<br>
		
		<p><strong>Content list</strong></p>
		<ul>
			<li><a href="#what">A History lesson and what does Vihoma do</a></li>
			<li><a href="#hostslocation">Where is my <i>hosts</i> file?</a></li>
			<li><a href="#restartNetwork">A host is blocked but I can still connect to it</a></li>
			<li><a href="#validIP">Valid IPs</a></li>
			<li><a href="#httpsLimitation">HTTPS security risk warning</a></li>
			<li><a href="#localFolder">Vihoma local files</a></li>
			<li>Settings
				<ul>
					<li><a href="#startup">Running Vihoma at system startup</a></li>
					<li><a href="#dnsclient">Make network start faster (Windows DNS Client))</a></li>
					<li><a href="#targetAddress">Custom target address</a></li>
					<li><a href="#monitoring">Monitoring the blocked connections</a></li>
					<li><a href="#customSource">Bloked hosts list source</a></li>
					<li><a href="#categories">Host categories</a></li>
				</ul>
			</li>
		</ul>
		
		<article id="what">
			<h2>A history lesson and what does Vihoma do</h2>
			
			<p>The World Wide Web is composed of millions of computers distributed all around the world. In order to visit a webpage, the web browser needs to know where the page is located in that huge net.<br> Just like people and ordinary mail, there are addresses (named IP (Internet Protocol) addresses) that help us reach those external computers. As they are a secuence of numbers difficult to remember, they where replaced by Domain Names, which were texts easily rememberable by humans (like <i>localhost</i> or <i>www.google.com</i>) and which were translated by computers to IPs. This was long ago done locally (on each computer), but the huge expansion of the internet made it impossible to register every new webpage so this was externalized.</p>
			<p>That local translations were stored on a system file called <i>hosts</i>, which Vihoma fills with a big list of malicious websites. The Operating System (Windows, Ubuntu, MacOS...) will read that file and block those websites. It is like having an ad-blocker which affects the whole computer instead of acting only on the web browser.</p>
			<p>Once Vihoma has updated that list, it can be safely closed, the Operating System will continue with the blocking process.</p>
		</article>
		
		<article id="hostsLocation">
			<h2>Where is my <i>hosts</i> file?</h2>
			
			<p>The location of the <i>hosts</i> file changes with the operating system.</p>
			<ul>
				<li><strong>Windows</strong>: %SystemRoot%\Windows\System32\drivers\etc\hosts</li>
				<li><strong>GNU/Linux</strong>:  /etc/hosts</li>
				<li><strong>MacOS X</strong>:  /etc/hosts</li>
			</ul>
			<p>You may see its content with a text editor. Any external change will be overwritten by Vihoma.</p>
		</article>
		
		<article id="restartNetwork">
			<h2>A host is blocked but I can still connect to it</h2>
			
			<p>Once Vihoma has updated its hosts list or you have manually added one, it is necessary to restart the operating system or your network's manager so the changes can take effect.</p>
			<p>If you opt for restarting your network instead of your computer, you may do it following these steps:</p>
			<ul>
				<li>If you are using Windows, open a command prompt with administrator privileges and run this command:
					<ul>
						<li>ipconfig /flushdns</li>
					</ul>
				</li>
				<li>If you are using GNU/Linux, open a Terminal and run with root privileges:
					<ul>
						<li><strong>Debian/Ubuntu</strong> sudo service network-manager restart</li>
						<li><strong>Linux Mint</strong> sudo /etc/init.d/dns-clean start</li>
						<li><strong>Linux with</strong> systemd: sudo systemctl restart network.service</li>
					</ul>
				</li>
				<li>If you are using MacOS X, open a Terminal and run:
					<ul>
						<li>sudo dscacheutil -flushcache;sudo killall -HUP mDNSResponder</li>
					</ul>
				</li>
			</ul>
			<p>If your operating system is not listed here, check the guide provided on Steven Black's Github hosts <a href="https://github.com/StevenBlack/hosts#reloading-hosts-file">repository</a></p>
		</article>
		
		
		<article id="validIP">
			<h2>Valid IPs</h2>
			<p>You can add custom hosts which will be redirected to a specific address. That address can be either IPv4 or IPv6, and has to follow these rules:</p>
			<ul>
				<li> If IPv4, it has to be formed by 4 groups of numbers from 0 to 255 separated by points. Example:
				<ul>
					<li>192.168.0.255</li>
				</ul>
				</li>
				<li> If IPv6, it has to formed by 8 groups of characters which can be numbers from 0 to 9, letters from a to f and capital letters A to F. Example:
				<ul>
					<li>2001:0db8:85a3:08d3:1319:8a2e:0370:7334</li>
				</ul>
				</li>
			</ul>
			<p>Here are the patterns used in the program to check if an IP is valid:</p>
			<ul>
				<li>\A(25[0-5]|2[0-4]\d|[0-1]?\d?\\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}\z</li>
				<li>\A(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\\d|[0-1]?\d?\d)){3}\z</li>
				<li>\A((?:[0-9A-Fa-f]{1,4}:){6,6})(25[0-5]|2[0-4]\d|[0-1]?\d?\\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}\z</li>
				<li>\A((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)::((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)\z</li>
				<li>\A(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}\z</li>
			</ul>
		</article>
		
		<article id="httpsLimitation">
			<h2>HTTPS security risk warning</h2>
			
			<p>If you change the blocking target address to a personal web server to monitor your blocked requests, you may find on your browser some https potential risk warnings. This will happen because the HTTPS specification <a href="https://tools.ietf.org/html/rfc2818#section-3.1">section 3.1</a> obligates the https client (e. g. the web browser) to compare the website hostname and the final server's Certificate message domain. As you won't probably have a SSL Certificate for <i>https://google.com</i>, trying to redirect that domain to your personal web server will make the web browser think that a man-in-the-middle attack is taking place.</p>
			<p>You can feel safe, the web browser won't send any personal information if you don't explicitly accept the risk; it will just show you a flashy warning. HTTP connections may be redirected without problems.</p>
		</article>
		
		<article id="localFolder">
			<h2>Vihoma local files</h2>
			
			<p>Vihoma saves some files into your computer in order to run. Those are found inside the Vihoma folder, which may be found in:</p>
			<ul>
				<li>Windows: %administrator personal folder%\AppData\Local\Vihoma\</li>
				<li>GNU/Linux: /etc/Vihoma/</li>
			</ul>
			<p>Files stored there are: the local database and log files</p>
			<p>If the program detects an internal inconsistency and has to restart the database, a hosts security copy is saved here, so you can recover your custom hosts list.</p>
		</article>
		
		<article id="startup">
			<h2>Running Vihoma at system startup</h2>

			<p>You can automate the system host management if you allow Vihoma to update its database at system startup. It will run silently and will keep your system up to date. This option is only available on Windows, but you can configure your specific operating system to run Vihoma at the startup. To do it silently, pass to the jar file the argument <i>quiet</i>.</p>
			
			<p>If you have enabled the program startup but it doesn't work, disable and enable it again. Do this each time you change the program location.</p>
		</article>
		
		<article id="dnsclient">
			<h2>DNS Client</h2>
			<p>This is applicable only to Windows operating systems.</p>
			
			<p>Windows has a built-in registry of domains which is no longer needed, and you can just disable it in most of the cases. If it is enabled, you may have to wait several minutes at Windows startup to have internet access. Once it is loaded, you can safely surf the internet.</p>
		</article>
		
		<article id="targetAddress">
			<h2>Custom target Address</h2>
			
			<p>By default, all the blocked hosts will be redirected to the address 0.0.0.0. You can change this if you want, for example, redirect everything to a personal server and log statistics about the domains which are being blocked in real time.</p>
		</article>
		
		<article id="monitoring">
			<h2>Monitoring the blocked connections</h2>
			
			<p>The <i>hosts</i> file does not provide a built-in feature of counting or logging which hosts has been blocked. Nevertheless, you can monitor the HTTP connections your operating system has blocked if you redirect the unwanted websites to a custom web server. There, just listen to the incoming HTTP requests and check their header values, like that of <i>hostname</i> or <i>referer</i>.</p>
		</article>
		
		<article id="customSource">
			<h2>Blocked hosts list source</h2>
			
			<p>By default, Vihoma downloads the list of blocked hosts from <a href="http://sbc.io/hosts/hosts">http://sbc.io/hosts/hosts</a>, but you can change the input <i>hosts</i> file location. Just make sure that you add a valid HTTP URL (URL parameters are OK).</p>
		</article>
		
		<article id="categories">
			<h2>Host categories</h2>
			
			<p>Vihoma downloads a list of unified hosts that will prevent your computer from connecting to thousands of malicious webpages. If you leave the default web source, you can add even more webpages to block. You can click on the several checkboxes to add more hosts to the list. Each checkbox adds hosts of different categories. Feel free to combine them.</p>
			<p>Once you finish the categories selection, update the blocked lists again to amplify your protection.</p>
		</article>
	</body>
</html>